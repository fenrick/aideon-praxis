#!/usr/bin/env sh

# Husky v10 style: no sourcing shim; keep fast/deterministic.
# Auto-run formatters and fixers but do not block commits locally.
# CI enforces clean lint/format via `yarn ci`.

# Keep pre-commit fast and deterministic; no network calls here.
# For GitHub issues mirror enforcement, see .husky/pre-push.

# TypeScript/JS/MD
if command -v yarn >/dev/null 2>&1; then
  yarn run -T format || true
  yarn run -T lint:fix || true
fi

# Python worker (optional if Python present)
if command -v python3 >/dev/null 2>&1; then
  yarn run -T format:py || true
  yarn run -T py:lint:fix || true
fi
