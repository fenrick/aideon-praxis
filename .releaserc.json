{
  "branches": ["main", { "name": "nightly", "channel": "nightly", "prerelease": "nightly" }],
  "plugins": [
    [
      "@semantic-release/commit-analyzer",
      { "preset": "conventionalcommits", "presetConfig": { "preMajor": true } }
    ],
    ["@semantic-release/release-notes-generator"],
    ["@semantic-release/changelog", { "changelogFile": "CHANGELOG.md" }],
    [
      "@semantic-release/exec",
      { "prepareCmd": "node scripts/inject-version.mjs ${nextRelease.version}" }
    ],
    [
      "@semantic-release/github",
      {
        "successComment": "✅ Release ${nextRelease.version} published. Tauri packaging workflow triggered to attach bundles automatically.",
        "failComment": "⚠️ Release ${nextRelease.version} failed. Check the Semantic Release and Tauri packaging workflows."
      }
    ],
    [
      "@semantic-release/git",
      {
        "assets": [
          "CHANGELOG.md",
          "package.json",
          "app/praxis-desktop/src/version.ts",
          "crates/aideon_praxis_host/tauri.conf.json"
        ],
        "message": "chore(release): ${nextRelease.version} [skip ci]\n\n${nextRelease.notes}"
      }
    ]
  ]
}
